<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>å¯¶å¯¶èªçŸ¥å°æ‰‹å†Š</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="å¯¶å¯¶èªçŸ¥">
    
    <style>
        :root {
            --bg-color: #FFF9E3;
            --primary-color: #FF6B6B;
            --card-bg: #FFFFFF;
            --shadow: #FFD93D;
        }

        /* åŸºç¤æ¨£å¼èˆ‡é˜²èª¤è§¸ */
        body {
            margin: 0;
            padding: env(safe-area-inset-top) 0 env(safe-area-inset-bottom) 0;
            font-family: -apple-system, "PingFang TC", sans-serif;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            touch-action: manipulation;
            -webkit-user-select: none; /* ç¦æ­¢é¸å– */
            -webkit-touch-callout: none; /* ç¦æ­¢é•·æŒ‰é¸å–® */
        }

        h1 { color: var(--primary-color); margin: 15px 0; font-size: 1.5rem; }

        /* åˆ†é¡å°è¦½åˆ— */
        .nav {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            padding: 0 10px;
        }

        .nav-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 50px;
            background: white;
            box-shadow: 0 4px 0 var(--shadow);
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
        }

        .nav-btn.active {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 4px 0 #d64545;
        }

        /* å¡ç‰‡å®¹å™¨ */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            width: 90%;
            max-width: 500px;
            padding-bottom: 50px;
        }

        /* å¡ç‰‡è¨­è¨ˆ */
        .card {
            background: var(--card-bg);
            border-radius: 25px;
            box-shadow: 0 8px 0 var(--shadow);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            aspect-ratio: 1 / 1;
            transition: transform 0.1s;
        }

        .card:active {
            transform: scale(0.92);
            box-shadow: 0 2px 0 var(--shadow);
        }

        .emoji { font-size: 70px; margin-bottom: 5px; }
        .label { font-size: 20px; font-weight: bold; color: #333; }

        /* å‹•ç•«æ•ˆæœ */
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }
        .animate-bounce { animation: bounce 0.4s ease; }
    </style>
</head>
<body>

    <h1 id="title">é€™æ˜¯ä»€éº¼å‘¢ï¼Ÿ</h1>

    <div class="nav">
        <button class="nav-btn active" onclick="showCategory('fruits', this)">ğŸ æ°´æœ</button>
        <button class="nav-btn" onclick="showCategory('animals', this)">ğŸ¶ å‹•ç‰©</button>
        <button class="nav-btn" onclick="showCategory('vehicles', this)">ğŸš— äº¤é€š</button>
    </div>

    <div id="game-grid" class="grid-container">
        </div>

    <script>
        // è³‡æ–™åº«
        const data = {
            fruits: [
                { name: 'è˜‹æœ', icon: 'ğŸ' }, { name: 'é¦™è•‰', icon: 'ğŸŒ' },
                { name: 'è¥¿ç“œ', icon: 'ğŸ‰' }, { name: 'è‘¡è„', icon: 'ğŸ‡' },
                { name: 'è‰è“', icon: 'ğŸ“' }, { name: 'é³³æ¢¨', icon: 'ğŸ' }
            ],
            animals: [
                { name: 'å°ç‹—', icon: 'ğŸ¶' }, { name: 'å°è²“', icon: 'ğŸ±' },
                { name: 'ç…å­', icon: 'ğŸ¦' }, { name: 'å¤§è±¡', icon: 'ğŸ˜' },
                { name: 'å…”å­', icon: 'ğŸ°' }, { name: 'ç†Šè²“', icon: 'ğŸ¼' }
            ],
            vehicles: [
                { name: 'æ±½è»Š', icon: 'ğŸš—' }, { name: 'é£›æ©Ÿ', icon: 'âœˆï¸' },
                { name: 'æ•‘è­·è»Š', icon: 'ğŸš‘' }, { name: 'æ¶ˆé˜²è»Š', icon: 'ğŸš’' },
                { name: 'è­¦è»Š', icon: 'ğŸš“' }, { name: 'è…³è¸è»Š', icon: 'ğŸš²' }
            ]
        };

        // åˆ‡æ›åˆ†é¡åŠŸèƒ½
        function showCategory(cat, btn) {
            // æ›´æ–°æŒ‰éˆ•æ¨£å¼
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            const grid = document.getElementById('game-grid');
            grid.innerHTML = ''; // æ¸…ç©ºå…§å®¹

            data[cat].forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                card.onclick = () => playAction(item.name, card);
                
                card.innerHTML = `
                    <div class="emoji">${item.icon}</div>
                    <div class="label">${item.name}</div>
                `;
                grid.appendChild(card);
            });
        }

        // é»æ“Šå‹•ä½œï¼šéœ‡å‹• + èªéŸ³ + å‹•ç•«
        function playAction(text, element) {
            // 1. è§¸è¦ºå›é¥‹ (iPhone åŠ å…¥ä¸»ç•«é¢å¾Œæ•ˆæœè¼ƒæ˜é¡¯)
            if (navigator.vibrate) navigator.vibrate(50);

            // 2. è¦–è¦ºå‹•ç•«
            const emojiDiv = element.querySelector('.emoji');
            emojiDiv.classList.add('animate-bounce');
            setTimeout(() => emojiDiv.classList.remove('animate-bounce'), 400);

            // 3. èªéŸ³åˆæˆ
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'zh-TW';
            utterance.rate = 0.8; // æ…¢é€ŸèªéŸ³
            utterance.pitch = 1.2; // ç¨å¾®é«˜éŸ³ä¸€é»ï¼Œæ¯”è¼ƒè¦ªåˆ‡
            window.speechSynthesis.cancel(); // åœæ­¢ä¹‹å‰çš„èªéŸ³ï¼Œé¿å…é‡ç–Š
            window.speechSynthesis.speak(utterance);
        }

        // åˆå§‹åŒ–é¡¯ç¤ºæ°´æœé¡åˆ¥
        window.onload = () => {
            showCategory('fruits', document.querySelector('.nav-btn'));
        };
    </script>
</body>
</html>
